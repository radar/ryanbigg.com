<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Log what your application does - Ryan Bigg</title>
  <link rel="shortcut icon" href="https://ryanbigg.com/favicon.png" type="image/x-icon">
  <link href="/feed.xml" rel="alternate" title="RyanBigg.com" type="application/atom+xml" />
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,700i|Koulen:400,700,700i&display=swap"
    rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>
  <link rel='stylesheet' href='/css/style.css' media='screen'>
  <link rel='stylesheet' href='/css/highlighting.css' media='screen'>
  <script src="/js/highlight.js"></script>
  <script>hljs.highlightAll();</script>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <meta content="Ryan Bigg - Log what your application does" property="og:title">
  
  <meta property="og:site_name" content="Ryan Bigg">


  
    <meta name="publish_date" property="og:publish_date" content="2025-12-01">
  

  
  <meta content="https://ryanbigg.com/ruby/logging" property="og:url">
  
  
  <meta content="Log what your application does" property="og:description">
  
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://ryanbigg.com/images/og.png">
  <meta name="twitter:image" content="https://ryanbigg.com/images/og.png" />
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@ryanbigg">
  <meta name="twitter:creator" content="@ryanbigg">
  
  <meta name="twitter:title" content="Log what your application does">
  
</head>


<body>
  <div class="flex">
    <div class='text-center mr-8'>
      <h1 class="my-0 mt-4 ml-4">Ryan Bigg</h1>
      <a href="/ruby">&#x27F5; Ruby Advice</a>
    </div>
  </div>

  <div class="ruby">
    <div class="toc">
  <h3>Table of contents</h3>
  <ol>
    <li>
      <a href="/ruby">Intro</a>
    </li>
    <li>
      <a href="/ruby/feature-flags">Feature Flags</a>
    </li>
    <li>
      <a href="/ruby/logging">Logging</a>
    </li>
  </ol>
</div>

    <div class='content'>
      <div class='content-inner'>
        <article class="mt-8">
          <a href="/ruby/logging">
            <h2 class="my-4 mt-4">Log what your application does</h2>
          </a>
          <p><strong>Use liberal amounts of logging in your application. Provide the ability to search through these logs.</strong></p>

<p>Logging is how you watch what your application is doing in any environment higher than local development. Log what your application is doing, so you know what paths the code is taking.</p>

<p>Correlate these logs with Trace IDs and Span IDs. Trace IDs are a unique bunch of characters for everything involving one request and response cycle. Span IDs are a similarly unique bunch of characters, but for one particular part of that cycle. An example of such an ID would be:</p>

<pre><code>6e927d3cf75b5e1167970f22bb2d7cb6
</code></pre>

<p>The gems provided by AppSignal and New Relic all have this feature built-in, and all of those applications will allow you to filter log lines by those Trace and Span IDs.</p>

<p>Log lines should be formatted as structured data, typically JSON. Log lines should answer as much as possible these questions: who, when, what and where?</p>

<ul>
  <li>what was the action?</li>
  <li>who took this action?</li>
  <li>When was the action taken?</li>
  <li>What was the path to executing this action?</li>
</ul>

<pre><code>{
  message: "Something happened",
  user_id: "90123",
  timestamp: "2025-06-23 09:01:02",
  data: { product_id: 1234 }
}
</code></pre>

<p>By structuring the logs in this way, they then become filter able by the data within them. We can then use this information to filter log lines to a particular time, as well as ones containing specific data.</p>

<p>Logging can be an expensive exercise if youâ€™re logging a lot. Providers such as those listed above charge for logging on the per-gigabyte basis, which can add up a lot overtime. Periodically inspect your logging output for excessive logging. Clean up the output of your program as required, and save some money.</p>

<p>Add further logging where necessary, especially after difficult debugging sessions.</p>

        </article>
      </div>
    </div>
  </div>
  <footer>
</footer>


  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-60556315-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>

</html>
