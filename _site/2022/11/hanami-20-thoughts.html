<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hanami 2.0 Thoughts - Ryan Bigg</title>
  <link rel="shortcut icon" href="https://ryanbigg.com/favicon.png" type="image/x-icon">
  <link href="/feed.xml" rel="alternate" title="RyanBigg.com" type="application/atom+xml" />
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,700i|Koulen:400,700,700i&display=swap"
    rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>
  <link rel='stylesheet' href='/css/style.css' media='screen'>
  <link rel='stylesheet' href='/css/highlighting.css' media='screen'>
  <script src="/js/highlight.js"></script>
  <script>hljs.highlightAll();</script>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <meta content="Ryan Bigg - Hanami 2.0 Thoughts" property="og:title">
  
  <meta property="og:site_name" content="Ryan Bigg">


  
    <meta name="publish_date" property="og:publish_date" content="2022-11-28">
  

  
  <meta content="https://ryanbigg.com/2022/11/hanami-20-thoughts" property="og:url">
  
  
  <meta content="Hanami 2.0 Thoughts" property="og:description">
  
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://ryanbigg.com/images/og.png">
  <meta name="twitter:image" content="https://ryanbigg.com/images/og.png" />
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@ryanbigg">
  <meta name="twitter:creator" content="@ryanbigg">
  
  <meta name="twitter:title" content="Hanami 2.0 Thoughts">
  
</head>


<body>
  <div class="flex">
    <div class='text-center mr-8'>
      <h1 class="my-0 mt-4 ml-4">Ryan Bigg</h1>
      <a href="/blog">&#x27F5; Posts</a>
    </div>

    <div class="post-title ml-auto">
      <a href="/2022/11/hanami-20-thoughts">
        <h2 class="my-0 mt-4">Hanami 2.0 Thoughts</h2>
      </a>
      <small>28 Nov 2022</small>
    </div>
  </div>

  <div class="main">
    <div class='content'>
      <div class='content-inner'>
        <article class="mt-8 mb-16">
          <p><a href="https://ryanbigg.com/2018/03/my-thoughts-on-hanami">I’ve been a fan of Hanami</a> for a number of years now. One of my favourite apps to work on is <a href="https://github.com/radar/twist-v2">even an open-source Hanami app!</a> I have also been writing <a href="https://github.com/radar/chirper">an ActivityPub app called “Chirper”</a> in Hanami.</p>

<p>Now that Hanami 2.0 has come out, a few people have been asking me for my thoughts on this major Hanami release.</p>

<p><strong>The headline is: it’s really, really fast. It’s really clean. And it’s really good if you’re building an API at the moment.</strong></p>

<p>It’s currently missing opinions/support on a view layer (so no templating) and DB persistence (although the Getting Started guide does recommend a way to set it up). Hanami 2.1 is supposed to come out (in early 2023) with proper baked-in support for both of those things.</p>

<p>When working on Chirper, I haven’t missed view templates as the application is all APIs. And I didn’t mind that there wasn’t a built-in configuration for databases, as the Getting Started guide for Hanami provided everything I needed there. It was refreshing to be able to “choose my own adventure” in that way, allowing me to opt for even something such as <a href="https://rubygems.org/gems/sequel">Sequel</a> if I chose to.</p>

<p>I like that Hanami hasn’t got an opinion du jour on JavaScript and CSS assets, like Rails had with Sprockets, Webpacker, etc. It leaves that particular responsibility up to the build tools that are great at that, such as ESBuild.</p>

<p>I love that the actions are clearly separated out into their own classes, rather than all being bundled into a single class. I love that you can <a href="https://github.com/radar/chirper/blob/40c4c532449deedbfaaac61dd2914fde7728cd97/app/actions/api/accounts/outbox.rb#L12-L17">specify the types of parameters</a> that an action receives.</p>

<p>I really enjoy the dependency injection support that <a href="https://github.com/radar/chirper/blob/81504258fbe74e3269c4f7ab013d6f0009b38cb6/spec/activity_pub/processors/create_spec.rb#L3-L7">allows me to test parts of the application without hitting a real database</a>. This makes those tests really fast. In the class itself, dependency injection also highlights the dependencies that a particular class has. If you notice the list of <code>Deps</code> getting long, then it’s a good sign that the class is trying to do too much; such a thing signposts the complexity of the class right at the top.</p>

<p>I love that <a href="https://github.com/decafsucks/decafsucks">Tim Riley, who is on the Hanami Core Team, is re-building Decaf Sucks in public</a> to really show how it’s done.</p>

<p>There’s also a bunch of <a href="https://hanamimastery.com/">Hanami screencasts (HanamiMastery) recorded by Seb Wilgosz</a>, which come in both video and text format.</p>

<p>Overall, I’m glad that the Hanami team has taken their time to really polish up this release, and I’m looking forward to building more things in what is shaping up to be <em>the</em> Ruby web framework of the future.</p>

        </article>
      </div>
    </div>
  </div>
  <footer>
</footer>


  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-60556315-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>

</html>
