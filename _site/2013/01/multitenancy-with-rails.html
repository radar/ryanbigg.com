<!DOCTYPE HTML>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <title>Multitenancy with Rails - Ryan Bigg</title>
  <link rel="shortcut icon" href="https://ryanbigg.com/favicon.png" type="image/x-icon">
  <link href="http://feeds.feedburner.com/ryanbigg" rel="alternate" title="The Life of a Radar" type="application/atom+xml" />
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,700|Ubuntu+Mono:400,700,700i&display=swap" rel="stylesheet">
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>
  <link rel='stylesheet' href='/css/style.css' media='screen'>
  <script src='/js/prism.js'></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

  <body>
    <header class="topbar">
  <h1><a href="/">Ryan Bigg</a></h1>

  <div class='items'>
    <a href="/">Who?</a> &middot;
    <a href="/books">Books</a> &middot;
    <a href="/blog">Blog</a> &middot;
    <a href="/history">History</a> &middot;
    <a href="/now">Now</a> &middot;
    <a href="/work">Hire Me</a>
  </div>
</header>

    <div class="main">
      <div class='content'>
        <div class='content-inner'>
          <article>
            <div class='center'>
              <a href="/2013/01/multitenancy-with-rails"><h2>Multitenancy with Rails</h2></a>
              <small>21 Jan 2013</small>
            </div>
            <p>Well before I had even <a href="http://ryanbigg.com/2012/11/no-more-writing-for-manning/">split from
Manning</a>, I had been
working on a new book called <a href="https://leanpub.com/multi-tenancy-rails">&quot;Multitenancy with
Rails&quot;</a>, which you can buy right now.</p>

<p>The idea for the book has been around for a while. A couple of friends (<a href="https://github.com/parndt">Phil
Arndt</a>, <a href="https://github.com/knewter">Josh Adams</a>,
<a href="https://github.com/robyurkowski">Rob Yurkowski</a> and <a href="https://github.com/GeekOnCoffee">Andrew
Hooker</a>) and I had been talking in our secret
IRC back channel about what a more advanced Rails book might cover. Through I
don&#39;t know what process, we came up with this idea and I&#39;m putting it into book
form.</p>

<p>For now, all the book is covering is what we&#39;re building, which is a hosted
forum application, how to build a foundation for the subscriptions
engine and then how we&#39;re going to accomplish the database scoping necessary to
separate the accounts&#39; data. </p>

<p>The engine is what the book&#39;s application is going to heavily rely on. This foundation
building deals with adding things like accounts which have subdomains, and then
authenticating users for those accounts using Warden, and not Devise. To find
out why, you&#39;re going to have to read it.</p>

<p>The chapter on scoping first of all covers using a database field, which is the typical way
that people have been dealing with this problem for years, and then covers the
&quot;new&quot; way of doing it: by using PostgreSQL schemas and the <code>apartment</code> gem.</p>

<p>The next chapter, Chapter 4, will cover building the application which will
combine both the subscriptions engine we build in Chapter 2, as well as the
<a href="https://github.com/radar/forem">Forem</a> forum engine that the aforementioned
folk and I build and maintain.</p>

<p>Chapter 5 will cover subscriptions, where each account could be subscribed to
the application for an amount such as $29/month and that allows them to create 5
forums. That sort of thing. It&#39;ll also cover taking payments for those
subscriptions using Stripe&#39;s wonderful API, and then what to do if somebody
decides to do a dodgy.</p>

<p>Testing (with RSpec and Capybara) is throughout, just like with Rails 3 in
Action.</p>

<p>So if you&#39;re looking for a book that covers all of the above, please <a href="https://leanpub.com/multi-tenancy-rails">buy a copy
of Multitenancy with Rails</a> <em>right
now</em>.</p>

          </article>
        </div>
      </div>
    </div>
    <footer>
    01101110 01101111 01110100 01101000 01101001 01101110 01100111 00100000 01110100 01101111 00100000 01110011 01100101 01100101 00100000 01101000 01100101 01110010 01100101 0001010 0001010 0001010 0001010 0001010 01100010 01110010 01100001 01110110 01101111 00100000 01100110 01101111 01111000 01110100 01110010 01101111 01110100 00100000 01110101 01101110 01101001 01100110 01101111 01110010 01101101
</footer>


    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-60556315-1', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>
