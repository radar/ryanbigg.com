<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Rails 2.1: Migration Timestamping - Ryan Bigg</title>
  <link rel="shortcut icon" href="https://ryanbigg.com/favicon.png" type="image/x-icon">
  <link href="/feed.xml" rel="alternate" title="RyanBigg.com" type="application/atom+xml" />
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,700|Ubuntu+Mono:400,700,700i&display=swap"
    rel="stylesheet">
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>
  <link rel='stylesheet' href='/css/style.css' media='screen'>
  <link rel='stylesheet' href='/css/highlighting.css' media='screen'>
  <script src="/js/highlight.js"></script>
  <script>hljs.highlightAll();</script>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <meta content="Ryan Bigg - Rails 2.1: Migration Timestamping" property="og:title">
  
  <meta property="og:site_name" content="Ryan Bigg">
  
  <meta content="https://ryanbigg.com/2008/04/rails-21-migration-timestamping" property="og:url">
  
  
  <meta content="Rails 2.1: Migration Timestamping" property="og:description">
  
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://ryanbigg.com/images/og.png">
  <meta name="twitter:image" content="https://ryanbigg.com/images/me.jpg" />
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@ryanbigg">
  <meta name="twitter:creator" content="@ryanbigg">
  
  <meta name="twitter:title" content="Rails 2.1: Migration Timestamping">
  
</head>


<body>
  <div class="main">
    <div class='content'>
      <div class='content-inner'>
        <article class="mt-8">
          <div class='text-center mb-8'>
            <a href="/blog">&#x27F5; Posts</a>
            <a href="/2008/04/rails-21-migration-timestamping">
              <h2>Rails 2.1: Migration Timestamping</h2>
            </a>
            <small>03 Apr 2008</small>
          </div>
          <p>Rails 2.1 is right around the corner, and with it come a few new changes, and one of them is migration timestamping. Instead of adding a number before the migration, for example <em><strong>001</strong>_create_forums.rb, </em>it now adds a UTC timestamp before it, for example <em><strong>20080403021817</strong>_create_forums.rb</em>.</p>

<p>Now, you may think this is a good idea because it will stop the problem of conflicting version numbers on migrations when two developers are working on the same thing, which happens frequently and even there were a few cases at SeaLink where we had this problem and spent some time sorting it out. With the new timestamping it requires that two developers create migrations at precisely the same second, which is less common to happen than creating migrations with the same version number.</p>

<p>But then we get to the tab-completion. Many developers use the console to do their work, or to make small changes to migrations quickly and easily. Tab-completion is a lifesaver and it fills out the name for you. If you were using vim.ruby and the current version of rails, you would type <em>:e </em>to open the file (assuming you’re already in db/migrate) and type 001 and press tab, it would auto complete the name and you can carry on your merry way. Now think if you created two migrations, each 5 minutes apart on this new Rails 2.1 system. You would have to first type <em>:e </em>and then 200804030220 and then &lt;tab&gt; to get it to tab complete, which is a pretty large number to remember.</p>

<p>I myself don’t mind this new change, as I open migrations using Netbeans 99% of the time. There was a lot of heated debate on this in #rubyonrails recently, and there was little talk on <a href="http://dev.rubyonrails.org/ticket/11458">the actual ticket</a> which was accepted rather quickly; not that I’m saying that’s a bad thing. <a href="http://dev.rubyonrails.org/changeset/9122">The changeset is also available.</a></p>

        </article>
      </div>
    </div>
  </div>
  <footer>
</footer>


  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-60556315-1', 'auto');
    ga('send', 'pageview');

  </script>
</body>

</html>
