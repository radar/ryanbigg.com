<!DOCTYPE HTML>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <title>Finding SQL Type of Column  - Ryan Bigg</title>
  <link rel="shortcut icon" href="https://ryanbigg.com/favicon.png" type="image/x-icon">
  <link href="http://feeds.feedburner.com/ryanbigg" rel="alternate" title="The Life of a Radar" type="application/atom+xml" />
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,700|Ubuntu+Mono:400,700,700i&display=swap" rel="stylesheet">
  <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>
  <link rel='stylesheet' href='/css/style.css' media='screen'>
  <link rel="stylesheet"
      href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/dracula.min.css">
<script src="/js/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

  <body>
    <header class="topbar">
  <h1><a href="/">Ryan Bigg</a></h1>

  <div class='items'>
    <a href="/">Who?</a> &middot;
    <a href="/books">Books</a> &middot;
    <a href="/blog">Blog</a> &middot;
    <a href="/history">History</a> &middot;
    <a href="/now">Now</a> &middot;
    <a href="/mentoring">Mentoring</a>
  </div>
</header>

    <div class="main">
      <div class='content'>
        <div class='content-inner'>
          <article>
            <div class='center'>
              <a href="/2008/12/finding-sql-type-of-column"><h2>Finding SQL Type of Column </h2></a>
              <small>14 Dec 2008</small>
            </div>
            <p><a href="http://rails.loglibrary.com/chats/15238428/excerpt">exlibris</a> asked tonight in #rubyonrails how to find the type of a column in the table for a model. I didn't know this and maybe someone else out there may not know how either. The solution lies within the <a href="http://api.rubyonrails.org/classes/ActiveRecord/Base.html#M001995"><span class="term">columns_hash</span></a> method from <span class="term">ActiveRecord:Base</span> which returns a hash containing all kinds of useful information about all the columns in your table such as:</p>
<ul>
	<li>Precision (integer, notes the precision of the column if it's decimal-based)</li>
	<li>Primary (boolean, identifies if column is primary key)</li>
	<li>default</li>
	<li>limit (integer, denotes how long the field can be)</li>
	<li>type (symbol, the class type in lowercase)</li>
	<li>name (string, fairly obvious)</li>
	<li>null (boolean, identifies if column can be set to null)</li>
	<li>scale (integer, does something)</li>
	<li>sql_type (returns the sql type of the column)</li>
</ul>
That final column is the magic attribute we're looking for. To get to it we access it like <span class='term'>Model.columns_hash["attribute"].sql_type</span>

          </article>
        </div>
      </div>
    </div>
    <footer>
    01101110 01101111 01110100 01101000 01101001 01101110 01100111 00100000 01110100 01101111 00100000 01110011 01100101 01100101 00100000 01101000 01100101 01110010 01100101 0001010 0001010 0001010 0001010 0001010 01100010 01110010 01100001 01110110 01101111 00100000 01100110 01101111 01111000 01110100 01110010 01101111 01110100 00100000 01110101 01101110 01101001 01100110 01101111 01110010 01101101
</footer>


    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-60556315-1', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>
